<?xml version="1.0" encoding="utf-8"?>
<search> 
  
    
    <entry>
      <title><![CDATA[Hello World]]></title>
      <url>/2018/02/03/hello-world/</url>
      <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><pre><code class="bash">$ hexo new &quot;My New Post&quot;
</code></pre>
<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><pre><code class="bash">$ hexo server
</code></pre>
<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><pre><code class="bash">$ hexo generate
</code></pre>
<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><pre><code class="bash">$ hexo deploy
</code></pre>
<p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
      
        
    </entry>
    
  
  
    
    <entry>
      <title></title>
      <url>/music/README.html</url>
      <content type="html"><![CDATA[<h1 id="éŸ³ä¹æœç´¢å™¨"><a href="#éŸ³ä¹æœç´¢å™¨" class="headerlink" title="éŸ³ä¹æœç´¢å™¨"></a>éŸ³ä¹æœç´¢å™¨</h1><p><a href="https://github.com/maicong/music/releases" target="_blank" rel="noopener"><img src="https://img.shields.io/github/release/maicong/music.svg?style=flat-square" alt="GitHub release"></a><br><a href="https://github.com/php-src/php" target="_blank" rel="noopener"><img src="https://img.shields.io/badge/php-%3E%205.4-orange.svg" alt="PHP version"></a><br><a href="#LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="GitHub license"></a></p>
<h2 id="è¯´æ˜"><a href="#è¯´æ˜" class="headerlink" title="è¯´æ˜"></a>è¯´æ˜</h2><p>éº¦è‘±ç‰¹åˆ¶å¤šç«™åˆä¸€éŸ³ä¹æœç´¢è§£å†³æ–¹æ¡ˆï¼Œæ”¯æŒæœç´¢è¯•å¬ä»¥ä¸‹ç½‘ç«™éŸ³ä¹ï¼š</p>
<p><a href="http://music.163.com" target="_blank" rel="noopener">ç½‘æ˜“äº‘éŸ³ä¹</a> <a href="http://y.qq.com" target="_blank" rel="noopener">QQéŸ³ä¹</a> <a href="http://www.kugou.com" target="_blank" rel="noopener">é…·ç‹—éŸ³ä¹</a> <a href="http://www.kuwo.cn" target="_blank" rel="noopener">é…·æˆ‘éŸ³ä¹</a> <a href="http://www.xiami.com" target="_blank" rel="noopener">è™¾ç±³éŸ³ä¹</a> <a href="http://music.baidu.com" target="_blank" rel="noopener">ç™¾åº¦éŸ³ä¹</a> <a href="http://www.1ting.com" target="_blank" rel="noopener">ä¸€å¬éŸ³ä¹</a> <a href="http://music.migu.cn" target="_blank" rel="noopener">å’ªå’•éŸ³ä¹</a> <a href="http://www.lizhi.fm" target="_blank" rel="noopener">è”æFM</a> <a href="http://www.qingting.fm" target="_blank" rel="noopener">èœ»èœ“FM</a> <a href="http://www.ximalaya.com" target="_blank" rel="noopener">å–œé©¬æ‹‰é›…FM</a> <a href="http://kg.qq.com" target="_blank" rel="noopener">å…¨æ°‘Kæ­Œ</a> <a href="http://5sing.kugou.com/yc" target="_blank" rel="noopener">5singåŸåˆ›</a> <a href="http://5sing.kugou.com/fc" target="_blank" rel="noopener">5singç¿»å”±</a></p>
<p>æ•°æ®è°ƒç”¨çš„æ˜¯å„ç½‘ç«™çš„ API æ¥å£ï¼Œæœ‰çš„æ¥å£å¹¶ä¸æ˜¯å¼€æ”¾çš„ï¼Œéšæ—¶å¯èƒ½å¤±æ•ˆï¼Œæœ¬é¡¹ç›®ç›¸å…³ä»£ç ä»…ä¾›å‚è€ƒã€‚</p>
<h2 id="æ¼”ç¤º"><a href="#æ¼”ç¤º" class="headerlink" title="æ¼”ç¤º"></a>æ¼”ç¤º</h2><p><a href="http://music.2333.me/" title="éŸ³ä¹æœç´¢å™¨" target="_blank" rel="noopener">http://music.2333.me/</a></p>
<p>å¦‚æœè·å–æœ‰è¯¯æˆ–éœ€è¦æ”¹è¿›ï¼Œæ¬¢è¿æäº¤ <a href="https://github.com/maicong/music/issues" target="_blank" rel="noopener">Issues</a></p>
<h2 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h2><p><a href="https://github.com/maicong/music/archive/master.zip" target="_blank" rel="noopener">ğŸ“¦ ä¸‹è½½å¼€å‘ç‰ˆ</a> <a href="https://github.com/maicong/music/releases" target="_blank" rel="noopener">ğŸ“¦ è·å–ç¨³å®šç‰ˆ</a></p>
<h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ"></a>è§£å†³æ–¹æ¡ˆ</h2><p><strong>1. æç¤ºæ•°æ®è·å–å¤±è´¥</strong></p>
<p>æ–¹æ¡ˆ1ï¼š</p>
<pre><code>ä¿®æ”¹ index.php æ–‡ä»¶é‡Œçš„ MC_PROXY ä¸ºæ‚¨çš„ä»£ç†åœ°å€
å°† core/music.php é‡Œéœ€è¦ä»£ç†çš„ URL &#39;proxy&#39; =&gt; false æ”¹ä¸º &#39;proxy&#39; =&gt; true
</code></pre><p>æ–¹æ¡ˆ2ï¼š</p>
<pre><code>åœ¨ core/music.php é‡ŒæŸ¥æ‰¾ setTimeoutï¼Œå°†å…¶åé¢çš„æ•°å€¼ 20 æ”¹ä¸ºæ›´å¤§ã€‚
åœ¨ static/js/music.js é‡ŒæŸ¥æ‰¾ `timeout`ï¼Œå°†å…¶æ•°å€¼ 30000 æ”¹ä¸ºæ›´å¤§ã€‚
</code></pre><p>æ–¹æ¡ˆ3ï¼š</p>
<pre><code>æœåŠ¡å™¨è¦æ”¯æŒ curlã€‚
æ›´æ¢æœåŠ¡å™¨ï¼Œé€‰æ‹©å»¶è¿Ÿæ›´ä½çš„æœåŠ¡å™¨ã€‚
</code></pre><p><strong>2. æ’­æ”¾å™¨æ˜¾ç¤º <code>Error happens â•¥ï¹â•¥</code></strong></p>
<p>éŸ³ä¹é“¾æ¥ä¸ºç©º</p>
<pre><code>1. éŸ³ä¹éœ€è¦ä»˜è´¹æ‰èƒ½æ”¶å¬
2. ç‰ˆæƒé™åˆ¶ï¼Œå¤–ç«™æ— æ³•è·å–
3. æœåŠ¡å™¨ IP æ‰€åœ¨åœ°ä¸åœ¨æºç«™å…è®¸çš„åŒºåŸŸ
4. éŸ³ä¹ä¸‹æ¶äº†ï¼Œé“¾æ¥è¢«å»é™¤
</code></pre><p>éŸ³ä¹é“¾æ¥ä¸ä¸ºç©º</p>
<pre><code>1. å½“å‰ IP æ‰€åœ¨åœ°å› ç‰ˆæƒé™åˆ¶è€Œæ— æ³•æ’­æ”¾
2. éŸ³ä¹æ ¼å¼æµè§ˆå™¨æ— æ³•æ­£å¸¸è§£æ
</code></pre><p><strong>3. å›½å†…æ¥å£ä¼˜åŒ–</strong></p>
<p>å¦‚æœä½ çš„ç½‘ç«™åœ¨å›½å†…ï¼Œæ‰“å¼€ <a href="index.php">/index.php</a>ï¼Œå°† <code>define(&#39;MC_INTERNAL&#39;, 0);</code> ä¿®æ”¹ä¸º <code>define(&#39;MC_INTERNAL&#39;, 1);</code>ï¼Œè¿™æ ·å°±å¯ä»¥å–åˆ°å’ªå’•å’Œç½‘æ˜“äº‘éŸ³ä¹çš„ 320k éŸ³é¢‘äº†ã€‚</p>
<h2 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h2><p>è¯·æŸ¥çœ‹ <a href="CHANGELOG.md">CHANGELOG.md</a></p>
<h2 id="å…è´£å£°æ˜"><a href="#å…è´£å£°æ˜" class="headerlink" title="å…è´£å£°æ˜"></a>å…è´£å£°æ˜</h2><ol>
<li>æœ¬ç«™éŸ³é¢‘æ–‡ä»¶æ¥è‡ªå„ç½‘ç«™æ¥å£ï¼Œæœ¬ç«™ä¸ä¼šä¿®æ”¹ä»»ä½•éŸ³é¢‘æ–‡ä»¶</li>
<li>éŸ³é¢‘ç‰ˆæƒæ¥è‡ªå„ç½‘ç«™ï¼Œæœ¬ç«™åªæä¾›æ•°æ®æŸ¥è¯¢æœåŠ¡ï¼Œä¸æä¾›ä»»ä½•éŸ³é¢‘å­˜å‚¨å’Œè´©å–æœåŠ¡</li>
</ol>
<h2 id="å¼€æºåè®®"><a href="#å¼€æºåè®®" class="headerlink" title="å¼€æºåè®®"></a>å¼€æºåè®®</h2><p>The MIT License (MIT)</p>
]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>/music/CHANGELOG.html</url>
      <content type="html"><![CDATA[<h1 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h1><p>2018.09.26 <code>v1.6.2</code></p>
<ul>
<li>ä¼˜åŒ–é…·ç‹—æœç´¢ç»“æœ</li>
<li>ä¼˜åŒ–é»˜è®¤é…ç½®</li>
</ul>
<p>2018.06.11 <code>v1.6.1</code></p>
<ul>
<li>ä¿®å¤ QQ éŸ³ä¹éŸ³é¢‘è·å–å¤±è´¥é—®é¢˜ (320k æš‚æ—¶å·²å¤±æ•ˆ)</li>
</ul>
<p>2018.05.24 <code>v1.6.0</code></p>
<ul>
<li>å¢åŠ æœåŠ¡å™¨å›½å†…å¤–åˆ¤æ–­</li>
<li>æ›´æ–°å’ªå’•æ¥å£ï¼Œæ”¯æŒ 320k éŸ³é¢‘</li>
<li>ä¼˜åŒ–ç½‘æ˜“äº‘éŸ³ä¹æ¥å£</li>
</ul>
<p>2018.05.23 <code>v1.5.10</code></p>
<ul>
<li>ä¿®å¤ ccã€top åŸŸåä½¿ç”¨å¤–éƒ¨èµ„æº403é—®é¢˜</li>
</ul>
<p>2018.03.05 <code>v1.5.9</code></p>
<ul>
<li>ä¿®å¤æ­Œæ›²åˆ‡æ¢åç›¸å…³ä¿¡æ¯æ˜¾ç¤ºé”™è¯¯é—®é¢˜</li>
</ul>
<p>2018.03.02 <code>v1.5.8</code></p>
<ul>
<li>ä¿®å¤å’ªå’•åœ°å€è§£æå¤±è´¥é—®é¢˜</li>
</ul>
<p>2018.02.23 <code>v1.5.7</code></p>
<ul>
<li>å¢åŠ æ­Œè¯ä¸‹è½½åŠŸèƒ½</li>
<li>ä¿®å¤ç½‘æ˜“äº‘éŸ³ä¹åœ°å€ä¸ºç©ºé—®é¢˜</li>
</ul>
<p>2018.02.02 <code>v1.5.6</code></p>
<ul>
<li>å¢åŠ éŸ³ä¹é“¾æ¥ä¸‹è½½åŠŸèƒ½ (å¦‚æœæµè§ˆå™¨æ”¯æŒçš„è¯)</li>
<li>ä¼˜åŒ–éŸ³ä¹ä¿¡æ¯æ˜¾ç¤ºæ¡†ä¸ºä¸å¯ç¼–è¾‘</li>
<li>ä¼˜åŒ–ä»£ç </li>
</ul>
<p>2018.01.17 <code>v1.5.5</code></p>
<ul>
<li>å¢åŠ  URL å‚æ•°ä¼ é€’</li>
<li>ä¼˜åŒ–ä»£ç </li>
<li>ç§»é™¤å¯¹ SoundCloud çš„æ”¯æŒ</li>
</ul>
<p>2018.01.04 <code>v1.5.4</code></p>
<ul>
<li>æ›´æ–°ä»£ç å…¼å®¹æ€§</li>
<li>æ›´æ–° meta ä¿¡æ¯</li>
<li>ä¿®å¤ä»£ç†æ£€æµ‹</li>
<li>ä¼˜åŒ–ç™¾åº¦éŸ³ä¹å¤–é“¾åœ°å€</li>
<li>ä¿®å¤ä¸€å¬å°é¢åœ°å€403é—®é¢˜</li>
<li>ä¿®å¤è”æéŸ³é¢‘åœ°å€å¤±æ•ˆé—®é¢˜</li>
<li>æ›´æ–°è¯´æ˜</li>
</ul>
<p>2017.12.25 <code>v1.5.3</code></p>
<ul>
<li>å¢åŠ å¯¹ å…¨æ°‘Kæ­Œ çš„æ”¯æŒ</li>
<li>æœç´¢ç»“æœå¢åŠ  è½½å…¥æ›´å¤š åŠŸèƒ½ã€‚</li>
</ul>
<p>2017.12.09 <code>v1.5.2</code></p>
<ul>
<li>æ›´æ–°å¸®åŠ©é‡Œçš„éŸ³ä¹åœ°å€</li>
<li>ä¿®å¤ç½‘æ˜“äº‘éŸ³ä¹å’Œç™¾åº¦éŸ³ä¹è§£æé—®é¢˜</li>
</ul>
<p>2017.12.08 <code>v1.5.1</code></p>
<ul>
<li>ä¼˜åŒ–ä»£ç </li>
<li>æ›´æ–°è¯´æ˜</li>
</ul>
<p>2017.12.08 <code>v1.5.0</code></p>
<ul>
<li>æ›´æ¢æ’­æ”¾å™¨</li>
<li>å¢åŠ æ­Œè¯æ˜¾ç¤º</li>
<li>æ›´æ–°æ¥å£</li>
</ul>
<p>2017.12.05 <code>v1.4.5</code></p>
<ul>
<li>ä¿®å¤ç½‘æ˜“äº‘éŸ³ä¹éŸ³é¢‘æ•°æ®ä¸å¯¹åº”é—®é¢˜</li>
</ul>
<p>2017.12.05 <code>v1.4.4</code></p>
<ul>
<li>ä¼˜åŒ–ç½‘æ˜“äº‘éŸ³ä¹ã€è™¾ç±³éŸ³ä¹ã€ç™¾åº¦éŸ³ä¹æ¥å£</li>
</ul>
<p>2017.12.05 <code>v1.4.3</code></p>
<ul>
<li>ä¼˜åŒ–é…·ç‹—éŸ³ä¹æ¥å£ï¼Œæ”¯æŒ 320k éŸ³é¢‘</li>
</ul>
<p>2017.12.04 <code>v1.4.2</code></p>
<ul>
<li>ä¼˜åŒ–ä»£ç </li>
</ul>
<p>2017.12.04 <code>v1.4.1</code></p>
<ul>
<li>ä¼˜åŒ– QQ éŸ³ä¹å“è´¨</li>
</ul>
<p>2017.11.28 <code>v1.4.0</code></p>
<ul>
<li>ä¼˜åŒ–æ¥å£å’Œä»£ç </li>
<li>ä¼˜åŒ– Curl æ¨¡å—åŠ è½½æ–¹å¼</li>
</ul>
<p>2017.09.12 <code>v1.3.0</code></p>
<ul>
<li>æ›´æ–° QQ éŸ³ä¹ API æ¥å£</li>
</ul>
<p>2017.09.08 <code>v1.2.9</code></p>
<ul>
<li>ä¼˜åŒ–æ¨¡ç‰ˆä»£ç </li>
<li>æ›´æ–°è¯´æ˜</li>
</ul>
<p>2017.09.06 <code>v1.2.8</code></p>
<ul>
<li>æ›´æ–° 5sing æ¥å£</li>
<li>ä¼˜åŒ–ä»£ç </li>
</ul>
<p>2017.09.04 <code>v1.2.7</code></p>
<ul>
<li>ä¿®å¤ä½ç‰ˆæœ¬æç¤ºæ˜¾ç¤ºç¼–ç é—®é¢˜</li>
</ul>
<p>2017.08.03 <code>v1.2.6</code></p>
<ul>
<li>æ›´æ–°é¡µè„šå’Œæ³¨é‡Š</li>
</ul>
<p>2017.08.03 <code>v1.2.6</code></p>
<ul>
<li>å¢åŠ ä½ç‰ˆæœ¬æç¤º</li>
<li>ä¼˜åŒ– èœ»èœ“ FM çš„ songid ä»£ç </li>
</ul>
<p>2017.08.01 <code>v1.2.5</code></p>
<ul>
<li>å¢åŠ å¯¹ å–œé©¬æ‹‰é›… FM çš„æ”¯æŒ</li>
<li>ä¿®å¤ url æ— æ³•è·å–é—®é¢˜</li>
</ul>
<p>2017.07.26 <code>v1.2.4</code></p>
<ul>
<li>ä¼˜åŒ–ä»£ç å…¼å®¹æ€§</li>
</ul>
<p>2017.07.24 <code>v1.2.3</code></p>
<ul>
<li>ä¼˜åŒ–ç›®å½•ç»“æ„å’Œæ¨¡ç‰ˆ</li>
</ul>
<p>2017.07.20 <code>v1.2.2</code></p>
<ul>
<li>ä¼˜åŒ–å›è°ƒä»£ç </li>
</ul>
<p>2017.07.20 <code>v1.2.1</code></p>
<ul>
<li>æ›´æ–°æ­£åˆ™åŒ¹é…è§„åˆ™</li>
</ul>
<p>2017.07.19 <code>v1.2.0</code></p>
<ul>
<li>ä¿®å¤æ­£åˆ™è¡¨è¾¾å¼é—®é¢˜</li>
</ul>
<p>2017.07.19 <code>v1.1.9</code></p>
<ul>
<li>å¢åŠ å¯¹èœ»èœ“ FM çš„æ”¯æŒ (resolve <a href="https://github.com/maicong/music/issues/6" target="_blank" rel="noopener">#6</a>)</li>
</ul>
<p>2017.07.10 <code>v1.1.8</code></p>
<ul>
<li>ä¿®å¤ api è¯·æ±‚æ¥å£é—®é¢˜</li>
</ul>
<p>2017.07.05 <code>v1.1.7</code></p>
<ul>
<li>å¢åŠ å¯¹ è”æ FM çš„æ”¯æŒ</li>
</ul>
<p>2017.06.26 <code>v1.1.6</code></p>
<ul>
<li>ä¿®å¤æ•°ç»„å†™æ³•å…¼å®¹æ€§</li>
</ul>
<p>2017.05.19 <code>v1.1.5</code></p>
<ul>
<li>ä¿®å¤ ç½‘æ˜“äº‘éŸ³ä¹ éŸ³ä¹é“¾æ¥å¤±æ•ˆé—®é¢˜</li>
</ul>
<p>2017.04.28 <code>v1.1.4</code></p>
<ul>
<li>æ›´æ–° QQ éŸ³ä¹ API æ¥å£</li>
<li>ä¼˜åŒ–ä»£ç </li>
</ul>
<p>2017.04.21 <code>v1.1.3</code></p>
<ul>
<li>ä¼˜åŒ–ä»£ç å’Œæ’­æ”¾å™¨è§†è§‰</li>
</ul>
<p>2017.04.20 <code>v1.1.2</code></p>
<ul>
<li>æ›´æ–°éŸ³ä¹åœ°å€åŒ¹é…è§„åˆ™</li>
</ul>
<p>2017.03.24 <code>v1.1.1</code></p>
<ul>
<li>ç§»é™¤å¯¹å¤©å¤©åŠ¨å¬çš„æ”¯æŒ</li>
<li>ä¿®å¤æ— æ³•è·å–å’ªå’•éŸ³ä¹çš„é—®é¢˜</li>
<li>æ›´æ–° SoundCloud çš„æ”¯æŒ client_id</li>
</ul>
<p>2017.03.23 <code>v1.1.0</code></p>
<ul>
<li>æ›´æ–°å¤–é“¾èµ„æºåœ°å€</li>
<li>ä¼˜åŒ–ä»£ç </li>
</ul>
<p>2015.06.15 <code>v1.0.4</code></p>
<ul>
<li>å¢åŠ å¯¹ SoundCloud çš„æ”¯æŒ</li>
<li>å¢åŠ ä»£ç†æ”¯æŒ</li>
<li>ä¿®å¤éŸ³ä¹åç§°è¯†åˆ«é—®é¢˜</li>
<li>ä¼˜åŒ–ä»£ç </li>
</ul>
<p>2015.06.13 <code>v1.0.3</code></p>
<ul>
<li>å¢åŠ å¯¹ å¤©å¤©åŠ¨å¬ã€å’ªå’• çš„æ”¯æŒ</li>
</ul>
<p>2015.06.12 <code>v1.0.2</code></p>
<ul>
<li>å¢åŠ å¯¹ 5sing çš„æ”¯æŒ (å¼€æºå‘å¸ƒ)</li>
</ul>
<p>2015.06.12 <code>v1.0.1</code></p>
<ul>
<li>ä»£ç ä¼˜åŒ–</li>
<li>ä¿®å¤ BUG</li>
</ul>
<p>2015.06.10 <code>v1.0.0</code></p>
<ul>
<li>éŸ³ä¹æœç´¢å™¨ä¸Šçº¿</li>
</ul>
]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>/music/core/composer.json</url>
      <content type="html"><![CDATA[{"require":{"php-curl-class/php-curl-class":"^8.0"}}]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>/music/static/js/music.js</url>
      <content type="html"><![CDATA['use strict';

/**
 *
 * éŸ³ä¹æœç´¢å™¨ - JS æ–‡ä»¶
 *
 * @author  MaiCong <i@maicong.me>
 * @link    https://github.com/maicong/music
 * @since   1.5.9
 *
 */

$(function() {
  // è·å–å‚æ•°
  function q(key) {
    var value = null;
    var tmp = [];
    location.search
      .substr(1)
      .split('&')
      .forEach(function(v) {
        tmp = v.split('=');
        if (tmp[0] === key) {
          value = decodeURIComponent(tmp[1]);
        }
      });
    return value;
  }

  // åŠ å…¥å†å²è®°å½•
  function pushState(title, link) {
    if (window.history && window.history.pushState) {
      window.history.pushState(null, title, link);
    }
  }

  // è·å– url
  function getUrl(path) {
    var url = location.href.split('?')[0];
    return path ? url + path : url;
  }

  // ç”³æ˜å˜é‡
  var player = null;
  var playerList = [];
  var nopic = 'static/img/nopic.jpg';
  var qName = q('name');
  var qId = q('id');
  var qUrl = q('url');
  var qType = q('type');
  var siteTitle = document.title;

  // å¦‚æœå‚æ•°å­˜åœ¨ name/id å’Œ type
  if ((qName || qId) && qType) {
    setTimeout(function() {
      $('#j-input').val(qName || qId);
      $('#j-type input[value="' + qType + '"]').prop('checked', true);
      if (qName) {
        $('#j-nav [data-filter="name"]').trigger('click');
      }
      if (qId) {
        $('#j-nav [data-filter="id"]').trigger('click');
      }
      $('#j-validator').trigger('submit');
    }, 0);
  }

  // å¦‚æœå‚æ•°å­˜åœ¨ url
  if (qUrl) {
    setTimeout(function() {
      $('#j-type').hide();
      $('#j-input').val(qUrl);
      $('#j-nav [data-filter="url"]').trigger('click');
      $('#j-validator').trigger('submit');
    }, 0);
  }

  // Tab åˆ‡æ¢
  $('#j-nav').on('click', 'li', function() {
    var holder = {
      name: 'ä¾‹å¦‚: ä¸è¦è¯´è¯ é™ˆå¥•è¿…',
      id: 'ä¾‹å¦‚: 25906124',
      url: 'ä¾‹å¦‚: http://music.163.com/#/song?id=25906124',
      pattern_name: '^.+$',
      pattern_id: '^[\\w\\/\\|]+$',
      pattern_url: '^https?:\\/\\/\\S+$'
    };
    var filter = $(this).data('filter');

    $(this)
      .addClass('am-active')
      .siblings('li')
      .removeClass('am-active');

    $('#j-input')
      .data('filter', filter)
      .attr({
        placeholder: holder[filter],
        pattern: holder['pattern_' + filter]
      })
      .removeClass('am-field-valid am-field-error am-active')
      .closest('.am-form-group')
      .removeClass('am-form-success am-form-error')
      .find('.am-alert')
      .hide();

    if (filter === 'url') {
      $('#j-type').hide();
    } else {
      $('#j-type').show();
    }
  });

  // è¾“å…¥éªŒè¯
  $('#j-validator').validator({
    onValid: function onValid(v) {
      $(v.field)
        .closest('.am-form-group')
        .find('.am-alert')
        .hide();
    },
    onInValid: function onInValid(v) {
      var $field = $(v.field);
      var $group = $field.closest('.am-form-group');
      var msgs = {
        name: 'å°† åç§° å’Œ ä½œè€… ä¸€èµ·è¾“å…¥å¯æé«˜åŒ¹é…åº¦',
        id: 'è¾“å…¥é”™è¯¯ï¼Œè¯·æŸ¥çœ‹ä¸‹é¢çš„å¸®åŠ©',
        url: 'è¾“å…¥é”™è¯¯ï¼Œè¯·æŸ¥çœ‹ä¸‹é¢çš„å¸®åŠ©'
      };
      var $alert = $group.find('.am-alert');
      var msg = msgs[$field.data('filter')] || this.getValidationMessage(v);

      if (!$alert.length) {
        $alert = $(
          '<div class="am-alert am-alert-danger am-animation-shake"></div>'
        )
          .hide()
          .appendTo($group);
      }
      $alert.html(msg).show();
    },
    submit: function submit(v) {
      v.preventDefault();
      if (this.isFormValid()) {
        var input = $.trim($('#j-input').val());
        var filter = $('#j-input').data('filter');
        var type =
          filter === 'url' ? '_' : $('input[name="music_type"]:checked').val();
        var page = 1;
        var $more = $('<div class="aplayer-more">è½½å…¥æ›´å¤š</div>');
        var isload = false;
        var ajax = function ajax(input, filter, type, page) {
          $.ajax({
            type: 'POST',
            url: getUrl(),
            timeout: 30000,
            data: {
              input: input,
              filter: filter,
              type: type,
              page: page
            },
            dataType: 'json',
            beforeSend: function beforeSend() {
              isload = true;
              var title = document.title;
              switch (filter) {
                case 'name':
                  pushState(title, getUrl('?name=' + input + '&type=' + type));
                  break;
                case 'id':
                  pushState(title, getUrl('?id=' + input + '&type=' + type));
                  break;
                case 'url':
                  pushState(title, getUrl('?url=' + encodeURIComponent(input)));
                  break;
              }
              if (page === 1) {
                $('#j-input').attr('disabled', true);
                $('#j-submit').button('loading');
              } else {
                $more.text('è¯·ç¨å...');
              }
            },
            success: function success(result) {
              if (result.code === 200 && result.data) {
                result.data.map(function(v) {
                  if (!v.title) v.title = 'æš‚æ— ';
                  if (!v.author) v.author = 'æš‚æ— ';
                  if (!v.pic) v.pic = nopic;
                  if (!v.lrc) v.lrc = '[00:00.00] æš‚æ— æ­Œè¯';
                  if (!/\[00:(\d{2})\./.test(v.lrc)) {
                    v.lrc = '[00:00.00] æ— æ•ˆæ­Œè¯';
                  }
                });
                var setValue = function setValue(data) {
                  $('#j-link').val(data.link);
                  $('#j-link-btn').attr('href', data.link);
                  $('#j-src').val(data.url);
                  $('#j-src-btn').attr('href', data.url);
                  $('#j-lrc').val(data.lrc);
                  $('#j-lrc-btn').attr(
                    'href',
                    'data:application/octet-stream;base64,' +
                      btoa(unescape(encodeURIComponent(data.lrc)))
                  );
                  if ('download' in $('#j-src-btn')[0]) {
                    var name = data.title + '-' + data.author;
                    $('#j-src-btn').attr('download', name + '.mp3');
                    $('#j-lrc-btn').attr('download', name + '.lrc');
                    $('#j-src-btn-icon, #j-lrc-btn-icon')
                      .addClass('am-icon-download')
                      .removeClass('am-icon-external-link');
                  }
                  $('#j-songid').val(data.songid);
                  $('#j-name').val(data.title);
                  $('#j-author').val(data.author);
                };

                if (page === 1) {
                  if (player) {
                    player.pause();
                  }

                  playerList = result.data;

                  setValue(playerList[0]);

                  $('#j-validator').slideUp();
                  $('#j-main').slideDown();

                  player = new APlayer({
                    element: $('#j-player')[0],
                    autoplay: false,
                    narrow: false,
                    showlrc: 1,
                    mutex: false,
                    mode: 'circulation',
                    preload: 'metadata',
                    theme: '#0e90d2',
                    music: result.data
                  });

                  $('#j-player').append($more);

                  $more.on('click', function() {
                    if (isload) return;
                    page++;
                    ajax(input, filter, type, page);
                  });
                } else {
                  player.addMusic(result.data);
                  playerList = playerList.concat(result.data);
                }

                player.on('canplay', function() {
                  player.play();
                });
                player.on('play', function() {
                  var data = playerList[player.playIndex];
                  var img = new Image();
                  img.src = data.pic;
                  img.onerror = function() {
                    $('.aplayer-pic').css(
                      'background-image',
                      'url(' + nopic + ')'
                    );
                  };
                  document.title =
                    'æ­£åœ¨æ’­æ”¾: ' + data.title + ' - ' + data.author;
                  setValue(data);
                });
                player.on('ended', function() {
                  document.title = siteTitle;
                });
                if (result.data.length < 10) {
                  $more.hide();
                } else {
                  $more.text('è½½å…¥æ›´å¤š');
                }
              } else {
                if (page === 1) {
                  $('#j-input')
                    .closest('.am-form-group')
                    .find('.am-alert')
                    .html(result.error || '(Â°ãƒ¼Â°ã€ƒ) æœåŠ¡å™¨å¥½åƒç½¢å·¥äº†')
                    .show();
                } else {
                  $more.text('æ²¡æœ‰äº†');
                  setTimeout(function() {
                    $more.slideUp();
                  }, 1000);
                }
              }
            },
            error: function error(e, t) {
              if (page === 1) {
                var err = '(Â°ãƒ¼Â°ã€ƒ) å‡ºäº†ç‚¹å°é—®é¢˜ï¼Œè¯·é‡è¯•';
                if (t === 'timeout') {
                  err = '(Â°ãƒ¼Â°ã€ƒ) è¯·æ±‚è¶…æ—¶äº†ï¼Œè¯·ç¨åé‡è¯•';
                }
                $('#j-input')
                  .closest('.am-form-group')
                  .find('.am-alert')
                  .html(err)
                  .show();
              } else {
                $more.text('(Â°ãƒ¼Â°ã€ƒ) åŠ è½½å¤±è´¥äº†ï¼Œç‚¹å‡»é‡è¯•');
              }
            },
            complete: function complete() {
              isload = false;
              if (page === 1) {
                $('#j-input').attr('disabled', false);
                $('#j-submit').button('reset');
              }
            }
          });
        };

        ajax(input, filter, type, page);
      }
    }
  });

  $('#j-main input').focus(function() {
    $(this).select();
  });

  $('#j-more').on('click', function() {
    $(this).hide();
    $('#j-quote').removeClass('music-overflow');
  });

  $('#j-back').on('click', function() {
    if (player) {
      player.pause();
    }
    $('#j-validator').slideDown();
    $('#j-main').slideUp();
    $('#j-main input').val('');
    document.title = siteTitle;
  });
});
</i@maicong.me>]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>/music/static/css/style.css</url>
      <content type="html"><![CDATA[/**
 *
 * éŸ³ä¹æœç´¢å™¨ - CSS æ–‡ä»¶
 *
 * @author  MaiCong <i@maicong.me>
 * @link    https://github.com/maicong/music
 * @since   1.5.4
 *
 */

html {
  font-family: -apple-system, BlinkMacSystemFont, 'San Francisco', 'Microsoft YaHei', 'PingFang SC',
    'Hiragino Sans GB', 'WenQuanYi Micro Hei', 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell',
    'Fira Sans', 'Droid Sans', 'Noto Sans', 'Helvetica Neue', Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji', 'Segoe UI Symbol';
  -webkit-text-size-adjust: 100%;
  -moz-text-size-adjust: 100%;
  -ms-text-size-adjust: 100%;
  text-size-adjust: 100%;
}
body {
  margin: 0;
  -webkit-tap-highlight-color: transparent;
  -webkit-font-smoothing: subpixel-antialiased;
}
a {
  -webkit-transition: all .3s;
  transition: all .3s;
}
.about {
  background: #fff;
  color: #7f8c8d;
}
.about-color {
  color: #34495e;
}
.about-title {
  font-size: 180%;
  text-align: center;
}
.main {
  margin: 60px 0;
}
.music-tabs > li > a {
  padding: 0.5em 1em;
  cursor: pointer;
}
.music-main {
  display: none;
}
.music-main input {
  text-overflow: ellipsis;
}
.music-main input:focus,
.music-main input:hover {
  background: #eee;
  border-color: #ccc;
  color: #222;
}
.music-type .am-radio-inline,
.music-type label {
  color: #7f8c8d;
}
.music-type .am-icon-unchecked,
.music-type .am-icon-checked {
  color: #0e90d2;
}
.music-tips {
  margin-top: 50px;
}
.music-tips blockquote {
  font-family: Menlo, Monaco, Consolas, 'Courier New', monospace;
  font-size: 14px;
  margin-top: 30px;
}
.music-tips p span {
  display: inline-block;
  min-width: 50px;
}
.music-tips p b {
  font-weight: 500;
  color: #c7254e;
}
.music-overflow {
  max-height: 200px;
  overflow: hidden;
}
.music-more {
  padding: 10px;
  text-align: center;
  font-size: 14px;
  color: #666;
  background: #eee;
  cursor: pointer;
}
.footer {
  position: relative;
  left: 0;
  bottom: 0;
  width: 100%;
  overflow: hidden;
}
.footer p {
  color: #7f8c8d;
  margin: 0;
  padding: 15px;
  text-align: center;
  background: #2d3e50;
}
.footer p a {
  color: #7f8c8d;
}
.footer p a:hover {
  color: #bbb;
}
.footer a {
  text-decoration: underline;
}
.am-alert {
  display: none;
}
.am-popup-bd {
  height: 100%;
}
.aplayer {
  padding: 10px !important;
  margin: 0 !important;
  border: 1px solid #ccc;
}
.aplayer .aplayer-info .aplayer-music .aplayer-title,
.aplayer .aplayer-info .aplayer-music .aplayer-author {
  font-size: 16px !important;
  color: #555 !important;
}

.aplayer .aplayer-list ol li .aplayer-list-index {
  display: inline-block;
  width: 20px;
  text-align: right;
}
.aplayer .aplayer-lrc p {
  color: #0e90d2 !important;
}
.aplayer .aplayer-more {
  position: relative;
  font-size: 12px;
  padding: 8px 10px;
  margin-top: 10px;
  text-align: center;
  color: #888;
  cursor: pointer;
  -webkit-transition: color .3s;
  transition: color .3s;
}
.aplayer .aplayer-more:hover,
.aplayer .aplayer-more:active {
  color: #0e90d2;
}

.aplayer.aplayer-withlrc .aplayer-pic {
  width: 120px !important;
  height: 120px !important;
  -webkit-box-shadow: inset 0 0 3px 0 rgba(0, 0, 0, .5);
  box-shadow: inset 0 0 3px 0 rgba(0, 0, 0, .5);
}
.aplayer.aplayer-withlrc .aplayer-info {
  margin-left: 120px !important;
  height: 120px !important;
}
.aplayer.aplayer-withlist .aplayer-info {
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-orient: vertical;
  -webkit-box-direction: normal;
  -ms-flex-direction: column;
  flex-direction: column;
  -webkit-box-pack: justify;
  -ms-flex-pack: justify;
  justify-content: space-between;
  border-bottom: 0 !important;
}
.aplayer.aplayer-withlist .aplayer-list {
  height: auto !important;
  padding-top: 20px;
  -webkit-transition: none;
  transition: none;
}
.aplayer.aplayer-withlist .aplayer-list-hide {
  padding: 0;
}
</i@maicong.me>]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>/music/core/vendor/composer/installed.json</url>
      <content type="html"><![CDATA[[{"name":"php-curl-class/php-curl-class","version":"8.0.0","version_normalized":"8.0.0.0","source":{"type":"git","url":"https://github.com/php-curl-class/php-curl-class.git","reference":"dc8282d086362d946520781c8908e0b084f01438"},"dist":{"type":"zip","url":"https://files.phpcomposer.com/files/php-curl-class/php-curl-class/dc8282d086362d946520781c8908e0b084f01438.zip","reference":"dc8282d086362d946520781c8908e0b084f01438","shasum":""},"require":{"ext-curl":"*","php":">=5.3"},"require-dev":{"phpunit/phpunit":"*","squizlabs/php_codesniffer":"*"},"time":"2017-11-02T06:07:25+00:00","type":"library","installation-source":"dist","autoload":{"psr-4":{"Curl\\":"src/Curl/"}},"notification-url":"https://packagist.org/downloads/","license":["Unlicense"],"authors":[{"name":"Zach Borboa"}],"description":"PHP Curl Class makes it easy to send HTTP requests and integrate with web APIs.","homepage":"https://github.com/php-curl-class/php-curl-class","keywords":["api","class","client","curl","framework","http","http client","json","php","requests","rest","restful","web service","xml"]}]]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>/music/core/vendor/php-curl-class/php-curl-class/SECURITY.html</url>
      <content type="html"><![CDATA[<h1 id="Security-Considerations"><a href="#Security-Considerations" class="headerlink" title="Security Considerations"></a>Security Considerations</h1><h3 id="Url-may-point-to-system-files"><a href="#Url-may-point-to-system-files" class="headerlink" title="Url may point to system files"></a>Url may point to system files</h3><ul>
<li>Donâ€™t blindly accept urls from users as they may point to system files. Curl supports many protocols including <code>FILE</code>.<br>The following would show the contents of <code>file:///etc/passwd</code>.</li>
</ul>
<pre><code class="bash"># Attacker.
$ curl https://www.example.com/display_webpage.php?url=file%3A%2F%2F%2Fetc%2Fpasswd
</code></pre>
<pre><code class="php">// display_webpage.php
$url = $_GET[&#39;url&#39;]; // DANGER!
$curl = new Curl();
$curl-&gt;get($url);
echo $curl-&gt;response;
</code></pre>
<p>Safer:</p>
<pre><code class="php">function is_website_url($url, $allowed_schemes = array(&#39;http&#39;, &#39;https&#39;)) {
    $validate_url = !(filter_var($url, FILTER_VALIDATE_URL) === false);
    $scheme = parse_url($url, PHP_URL_SCHEME);
    return $validate_url &amp;&amp; in_array($scheme, $allowed_schemes, true);
}

$url = $_GET[&#39;url&#39;];
if (!is_website_url($url)) {
    die(&#39;Unsafe url detected.&#39;);
}
</code></pre>
<h3 id="Url-may-point-to-internal-urls"><a href="#Url-may-point-to-internal-urls" class="headerlink" title="Url may point to internal urls"></a>Url may point to internal urls</h3><ul>
<li>Url may point to internal urls including those behind a firewall (e.g. <a href="http://192.168.0.1/" target="_blank" rel="noopener">http://192.168.0.1/</a> or ftp://192.168.0.1/). Use<br>a whitelist to allow certain urls rather than a blacklist.</li>
</ul>
<h3 id="Request-data-may-refer-to-system-files"><a href="#Request-data-may-refer-to-system-files" class="headerlink" title="Request data may refer to system files"></a>Request data may refer to system files</h3><ul>
<li>Request data prefixed with the <code>@</code> character may have special interpretation and read from system files.</li>
</ul>
<pre><code class="bash"># Attacker.
$ curl https://www.example.com/upload_photo.php --data &quot;photo=@/etc/passwd&quot;
</code></pre>
<pre><code class="php">// upload_photo.php
$curl = new Curl();
$curl-&gt;post(&#39;http://www.anotherwebsite.com/&#39;, array(
    &#39;photo&#39; =&gt; $_POST[&#39;photo&#39;], // DANGER!
));
</code></pre>
<h3 id="Unsafe-response-with-redirection-enabled"><a href="#Unsafe-response-with-redirection-enabled" class="headerlink" title="Unsafe response with redirection enabled"></a>Unsafe response with redirection enabled</h3><ul>
<li>Requests with redirection enabled may return responses from unexpected sources.<br>Downloading <a href="https://www.example.com/image.png" target="_blank" rel="noopener">https://www.example.com/image.png</a> may redirect and download <a href="https://www.evil.com/virus.exe" target="_blank" rel="noopener">https://www.evil.com/virus.exe</a></li>
</ul>
<pre><code class="php">$curl = new Curl();
$curl-&gt;setOpt(CURLOPT_FOLLOWLOCATION, true); // DANGER!
$curl-&gt;download(&#39;https://www.example.com/image.png&#39;, &#39;my_image.png&#39;);
</code></pre>
<pre><code class="php">$curl = new Curl();
$curl-&gt;setOpt(CURLOPT_FOLLOWLOCATION, true); // DANGER!
$curl-&gt;get(&#39;https://www.example.com/image.png&#39;);
</code></pre>
<h3 id="Keep-SSL-protections-enabled"><a href="#Keep-SSL-protections-enabled" class="headerlink" title="Keep SSL protections enabled"></a>Keep SSL protections enabled</h3><ul>
<li>Do not disable SSL protections.</li>
</ul>
<pre><code class="php">curl_setopt($ch, CURLOPT_SSL_VERIFYHOST, false); // DANGER!
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false); // DANGER!
</code></pre>
]]></content>
    </entry>
    
    <entry>
      <title></title>
      <url>/music/core/vendor/php-curl-class/php-curl-class/composer.json</url>
      <content type="html"><![CDATA[{"name":"php-curl-class/php-curl-class","description":"PHP Curl Class makes it easy to send HTTP requests and integrate with web APIs.","homepage":"https://github.com/php-curl-class/php-curl-class","license":"Unlicense","keywords":["php","curl","class","api","client","framework","http client","http","json","requests","rest","restful","web service","xml"],"authors":[{"name":"Zach Borboa"}],"require":{"php":">=5.3","ext-curl":"*"},"require-dev":{"phpunit/phpunit":"*","squizlabs/php_codesniffer":"*"},"autoload":{"psr-4":{"Curl\\":"src/Curl/"}}}]]></content>
    </entry>
    
  
</search>
